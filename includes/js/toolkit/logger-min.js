define(function(){"use strict";function t(){for(var e in r){if(r.hasOwnProperty(e)){t.prototype[e]=r[e]}}}function i(){if(e===null){e=new t}window.top.Logger=e;return e}var e=null;t.prototype.log=function(e,t){if(this.enabled){var r="";var i=this.getLevelName(e);if(this.logLevel===this.level.ALL){r=n(t,i)}else if(e>=this.logLevel){r=n(t,i)}this.writeToConsole(r)}};var n=function(e,t){if(e===null){e="null"}if(window.console!==undefined){if(window.console.log!==undefined){if(typeof e==="string"){e=e.split("<br />").join("\r\n")}if(t==="ERROR"){if(window.console.error!==undefined){window.console.error(t+": "+e)}else{window.console.log(t+": "+e)}}else if(t==="WARN"){if(window.console.warn!==undefined){window.console.warn(t+": "+e)}else{window.console.log(t+": "+e)}}else{window.console.log(t+": "+e)}}}return t+": "+e};t.prototype.getLevelName=function(e){for(var t in this.level){var n=this.level[t];if(n===e){return t}}};t.prototype.showConsole=function(){if(this.USE_CONSOLE){var e=document;var t=this.CONSOLE_DIV;if(t===null||t===undefined){t=e.createElement("div");t.id="DEBUG_CONSOLE";t.style.position="absolute";t.style.left="30px";t.style.top="20px";t.style.width="630px";t.style.height="400px";t.style.visibility="visible";t.style.display="block";t.style.color="yellow";t.style.fontFamily="Courier";t.style.backgroundColor="#222222";t.style.overflow="auto";t.style.fontSize="10pt";t.style.zIndex="100000";e.body.appendChild(t);this.CONSOLE_DIV=t}else{t.style.display="block"}return t}return null};t.prototype.hideConsole=function(){if(this.CONSOLE_DIV!==null){this.CONSOLE_DIV.style.display="none"}};t.prototype.writeToConsole=function(e){var t=this.showConsole();try{if(t!==null){var n=t.innerHTML;if(this.trim(n)!==""){n+="<br />"}n+=e;n+="<hr />";t.innerHTML=n;t.scrollTop=1e6}}catch(r){}};t.prototype.trim=function(e){return e.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1")};t.prototype.clearConsole=function(){if(window.isFireBugInstalled()!==true){var e=this.showConsole();if(e!==null){e.innerText=""}}};var r={USE_CONSOLE:false,enabled:true,level:{NONE:-1,ALL:0,DEBUG:2,ERROR:5,FATAL:6,INFO:3,TRACE:1,WARN:4},logLevel:3};return i()})