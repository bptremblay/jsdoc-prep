<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: portfolio/contextual_carousel.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: portfolio/contextual_carousel.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>define(
  ['jquery', 'messages', 'logger', 'info_panel'],

  /**
   * @exports portfolio/contextual_carousel
   * @requires jquery
   */
  function($, Messages, Logger, InfoPanel) {
    'use strict';
    var infoPanel = null;
    /**
     * @constructor
     */
    function ContextualCarousel() {}
    /**
     * Show.
     */
    ContextualCarousel.prototype.show = function() {
      this.element.show();
    };
    /**
     * Hide.
     */
    ContextualCarousel.prototype.hide = function() {
      this.element.hide();
    };
    /**
     * Initialize.
     */
    ContextualCarousel.prototype.initialize = function() {
      // info panel
      var details = $('&lt;div />');
      //details.hide();
      this.element = details;
      var bigSlider = document.createElement('div');
      bigSlider.className = 'bigSlider';
      this.bigSlider = $(bigSlider);
      this.bigSlider
        .html('&lt;div id=\'slider-id\'>&lt;/div>&lt;div class=\'big-picture\'>&lt;/div>');
      details.append(bigSlider);
      if (infoPanel == null) {
        infoPanel = new InfoPanel();
        infoPanel.initialize();
        Messages.observe('gallery_view', infoPanel, this);
      }
    };
    /**
     * Render general.
     * @param data
     */
    ContextualCarousel.prototype.renderGeneral = function(data) {
      var item = data.timeline;
      var skel = [];
      skel
        .push('&lt;div id="carousel-example-generic" class="carousel slide" data-interval="false" data-ride="carousel">');
      skel.push('  &lt;!-- Indicators -->');
      skel.push('  &lt;ol class="carousel-indicators">');
      skel.push('  &lt;/ol>');
      skel.push('');
      skel.push('  &lt;!-- Wrapper for slides -->');
      skel.push('  &lt;div class="carousel-inner">');
      // SHOULD THIS CODE LIVE HERE????
      // These are the thumbnails above the big slide.
      // Part of the details panel.
      var galleryLightboxHTML = '';
      for (var index = 0; index &lt; item.length; index++) {
        var slide = item[index];
        var slideName = slide.date;
        var genres = slide.events;
        if (index === 0) {
          skel.push('    &lt;div class="active item">');
        } else {
          skel.push('    &lt;div class="item">');
        }
        // content in here &lt;&lt;&lt;
        skel.push('&lt;div class="c-frame">');
        skel.push('&lt;h2 class="c-text">' + slideName + '&lt;/h2>');
        //$(".carousel-control.left").width()
        skel.push('&lt;div class="c-cell">');
        //skel.push('&lt;ul class="c-list">');
        for (var g = 0; g &lt; genres.length; g++) {
          var genre = genres[g];
          //skel.push('&lt;li>' + genre.title + '&lt;/li>');
          var slide = genre.slideInstances[0];
          var thumb = genre.slideThumbs[0];
          var img = $(slide).find('.gallery-item');
          var bigSrc = genre.slideSources[0];
          var slideName = 'Slide ' + (0 + 1);
          skel.push('&lt;div class="internal-pictures">');
          skel.push('&lt;img height="300" src="' + bigSrc + '" alt="' + slideName + '" />');
          skel.push('&lt;/div>');
          skel.push('&lt;div class="internal-info">');
          skel.push(infoPanel.render(genre));
          skel.push('&lt;/div>');
          //            skel.push('&lt;div class="internal-slider">');
          //            skel.push('&lt;/div>');
        }
        //skel.push('&lt;/ul>');
        skel.push('&lt;/div>');
        skel.push('&lt;/div>');
        skel.push('      &lt;div class="carousel-caption">');
        //skel.push(slideName);
        skel.push('      &lt;/div>');
        skel.push('    &lt;/div>');
      }
      skel.push('    ');
      skel.push('  &lt;/div>');
      skel.push('');
      skel.push('  &lt;!-- Controls -->');
      skel
        .push('  &lt;a class="left carousel-control" href="#carousel-example-generic" data-slide="prev">');
      skel
        .push('    &lt;span class="glyphicon glyphicon-chevron-left">&lt;/span>');
      skel.push('  &lt;/a>');
      skel
        .push('  &lt;a class="right carousel-control" href="#carousel-example-generic" data-slide="next">');
      skel
        .push('    &lt;span class="glyphicon glyphicon-chevron-right">&lt;/span>');
      skel.push('  &lt;/a>');
      skel.push('&lt;/div>');
      galleryLightboxHTML = skel.join('\n');
      //console.log(galleryLightboxHTML);
      $('#slider-id').html(galleryLightboxHTML);
    };
    /**
     * TODO: normalize signature.
     * @param item
     * @param slideIndex
     */
    ContextualCarousel.prototype.render = function(data) {
      this.show();
      this.renderGeneral(data);
      $('#slider-id').carousel({
        interval: false
      });
    };
    return ContextualCarousel;
  });</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="module-accountDetailsHeader.html">accountDetailsHeader</a></li><li><a href="module-browser_detect.html">browser_detect</a></li><li><a href="module-context.html">context</a></li><li><a href="module-depositAccounts.html">depositAccounts</a></li><li><a href="module-gallery_dao.html">gallery_dao</a></li><li><a href="module-gallery_model.html">gallery_model</a></li><li><a href="module-gallery_view.html">gallery_view</a></li><li><a href="module-info_panel.html">info_panel</a></li><li><a href="module-logger.html">logger</a></li><li><a href="module-messages.html">messages</a></li><li><a href="module-panel.html">panel</a></li><li><a href="contextual_carousel.html">portfolio/contextual_carousel</a></li><li><a href="module-slide_panel.html">slide_panel</a></li><li><a href="module-tab_panel.html">tab_panel</a></li><li><a href="module-tabs.html">tabs</a></li><li><a href="module-test.html">test</a></li><li><a href="module-thumbnail_panel.html">thumbnail_panel</a></li><li><a href="module-zero-test.html">zero-test</a></li></ul><h3>Classes</h3><ul><li><a href="module-accountDetailsHeader-AccountDetailsHeaderView.html">AccountDetailsHeaderView</a></li><li><a href="module-browser_detect-BrowserDetect.html">BrowserDetect</a></li><li><a href="context.html">module:fluffy/context</a></li><li><a href="context_ChildContext.html">ChildContext</a></li><li><a href="module-info_panel-InfoPanel.html">InfoPanel</a></li><li><a href="module-panel-Panel.html">Panel</a></li><li><a href="contextual_carousel-ContextualCarousel.html">ContextualCarousel</a></li><li><a href="module-slide_panel-SlidePanel.html">SlidePanel</a></li><li><a href="module-tab_panel-TabPanel.html">TabPanel</a></li><li><a href="module-tabs-Tabs.html">Tabs</a></li><li><a href="module-test-FifthClass.html">FifthClass</a></li><li><a href="module-test-FourthClass.html">FourthClass</a></li><li><a href="module-test-Freenox.html">Freenox</a></li><li><a href="module-test-SecondClass.html">SecondClass</a></li><li><a href="module-test-ThirdClass.html">ThirdClass</a></li><li><a href="module-thumbnail_panel-ThumbnailPanel.html">ThumbnailPanel</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha9</a> on Tue Nov 11 2014 18:40:40 GMT-0500 (EST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
